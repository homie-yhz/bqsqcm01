<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>before: after:</title>
  <script src="js/jquery-1.8.3.min.js"></script>
  <style>
    *{margin:0;padding:0;}
    .me,.other{white-space: pre-wrap;word-wrap: break-word;word-break: break-all; max-width: 500px;}
    .me{
      float:right;
      background-color:#98E165;
      position:relative;
      padding:5px;
      display:inline-block;
      border-radius:3px;
      margin-right:10px;
    }
    .me:after{
      content:"";
      border:5px solid transparent;
      border-left:5px solid #98E165;
      position:absolute;
      top:3px;
      right:-10px;
    }
    .other{
      background-color:#fff;
      position:relative;
      padding:4px;
      display:inline-block;
      border-radius:3px;
      margin-left:10px;
      border:1px solid #e9e9e9;
    }
    .other:before{
      content:"";
      border:5px solid transparent;
      border-right:5px solid #e9e9e9;
      position:absolute;
      top:3px;
      left:-10px;
    }
    .other:after{
      content:"";
      border:5px solid transparent;
      border-right:5px solid #fff;
      position:absolute;
      top:3px;
      left:-9px;
    }
    .of-h{overflow: hidden;margin-bottom:30px;}
    .comment-box{position:absolute;bottom:0;}
  </style>
</head>
<body>
<div class="of-h">
  <p class="me">回复文字</p>
</div>
<div class="of-h">
  <p class="other">测试问题</p>
</div>
  <div class="comment-box">
    <input type="text"><input class="me-reply" type="button" value="我">
    <input type="text"><input class="other-reply" type="button" value="别人">
  </div>
</body>
<script>
  $('.me-reply').click(function(){
    var reg = /^[ ]+$/g;
    var $me_reply = $(this).prev().val();
    $me_reply!=''&&!reg.test($me_reply) && $('body').append('<div class="of-h"><p class="me">'+$me_reply+'</p></div>');
    $(this).prev().val('');
  });
</script>
</html>